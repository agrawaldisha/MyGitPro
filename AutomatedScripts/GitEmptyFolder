#!/bin/bash

# ========================
# üîß CONFIGURE THESE
GIT_REPO_URL="https://github.com/agrawaldisha/MyGitPro.git"
FOLDER_NAME="AutomatedScripts"
COMMIT_MSG="Add empty $FOLDER_NAME folder with .gitkeep"
# ========================

# Extract repo name from URL
REPO_DIR=$(basename "$GIT_REPO_URL" .git)

echo "üì¶ Cloning repository..."
git clone "$GIT_REPO_URL"

cd "$REPO_DIR" || { echo "‚ùå Failed to enter repo directory"; exit 1; }

BRANCH_NAME=$(git rev-parse --abbrev-ref HEAD)

echo "üìÅ Creating folder '$FOLDER_NAME'..."
mkdir -p "$FOLDER_NAME"
touch "$FOLDER_NAME/.gitkeep"

echo "üì§ Adding and committing..."
git add "$FOLDER_NAME/.gitkeep"
git commit -m "$COMMIT_MSG"

echo "üöÄ Pushing to branch '$BRANCH_NAME'..."
git push origin "$BRANCH_NAME"

echo "‚úÖ Done! Folder '$FOLDER_NAME' pushed to $GIT_REPO_URL"
